(this["webpackJsonpvedb-admin"]=this["webpackJsonpvedb-admin"]||[]).push([[0],{122:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(71),o=n.n(r),i=(n(95),n(13)),s=n(5),l=n(151),u=c.a.createContext(),j=n(4);var d=function(){var e=c.a.useContext(u).browserLocale;return Object(j.jsx)(l.a,{children:e})},b=n(154),h=n(165);var p=function(){var e=Object(h.a)().t;return Object(j.jsx)(l.a,{children:Object(j.jsxs)(b.a,{variant:"h2",children:[e("welcome"),e("text")]})})},x=n(155),O=n(157),f=n(158),g=n(156),m=n(79),v=n.n(m),w=n(30),C=n(166),k=n(163),S=n(78),L=n.n(S),N=n(58),B=n(40),z=n(76),E=n(77);N.a.use(B.e).init({resources:{en:{translation:z},de:{translation:E}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1}});var I=N.a,V=Object(x.a)((function(e){return{formControl:{backgroundColor:"white",margin:e.spacing(2),minWidth:60},langSwitch:{fontSize:"0.75rem",padding:"0.5rem"}}}));function A(e){var t=V(),n=c.a.useState(null),r=Object(i.a)(n,2),o=r[0],s=r[1],l=Boolean(o),d=Object(a.useContext)(u),b=d.browserLocale,h=d.setBrowserLocale,p=function(e){I.changeLanguage(e),h(e),s(null)};return Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsxs)(g.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:[Object(j.jsx)(L.a,{}),Object(j.jsx)("span",{className:t.langSwitch,children:b.toUpperCase()})]}),Object(j.jsxs)(k.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:function(e){s(null)},style:{zIndex:999999},children:[Object(j.jsx)(C.a,{onClick:function(){return p("en")},children:"EN"}),Object(j.jsx)(C.a,{onClick:function(){return p("de")},children:"DE"})]})]})}var D=n(80),F=n.n(D),T=Object(x.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},routeLink:{textDecoration:"none",color:"#fff"}}}));var y=function(e){var t=T();return Object(j.jsx)(O.a,{position:"static",children:Object(j.jsxs)(f.a,{children:[Object(j.jsx)(g.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(j.jsx)(v.a,{})}),Object(j.jsx)(b.a,{variant:"h3",className:t.title,children:Object(j.jsx)(w.b,{to:"/",className:t.routeLink,children:"VEDB 2.0"})}),Object(j.jsx)(w.b,{to:"/admin",className:t.routeLink,children:"Admin"}),Object(j.jsx)("div",{children:Object(j.jsx)(A,{})}),Object(j.jsx)(g.a,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",onClick:function(){},color:"inherit",children:Object(j.jsx)(F.a,{})})]})})},J=n(162),P=n(160),U=n(161),W=n(167),_=n(159),G=n(81),M=n.n(G),R=Object(x.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var H=function(){var e=R(),t=Object(s.f)(),n=Object(a.useContext)(u),c=n.authenticated,r=n.setAuthenticated,o=function(){for(var e,t={},n=/[?&]+([^=&]+)=([^&]*)/gi;e=n.exec(window.location.href);)t[e[1]]=e[2];return t};return Object(a.useEffect)((function(){c?(alert("redirecting"),t("/")):function(){if(console.log("getUrlVars():"+o().code),void 0===o().code)window.location.href="https://sso-int.mercedes-benz.com/as/authorization.oauth2?response_type=code&client_id=60f0f6a2-46d5-4697-bf71-46db274c317b&scope=openid&redirect_uri=https://pages.git.daimler.com/itcve/vedbs-admin-panel/&state=VEDB";else{console.log("code generated"),console.log("getUrlVars():"+o().code);var e=o().code;sessionStorage.setItem("token",e),localStorage.setItem("token",e),alert(e),M()({method:"get",url:"https://sma4u-ti2.es.corpintra.net/sf/vedbs/projects",headers:{Authorization:"Bearer "+e}}).then((function(e){console.log(e)}),(function(e){console.log(e)})),r(!0)}}()}),[c]),Object(j.jsx)(W.a,{className:e.backdrop,open:!c,children:Object(j.jsx)(_.a,{color:"inherit"})})};function q(){var e=a.useState(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=a.useState(I.language),o=Object(i.a)(r,2),l=o[0],b=o[1];return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(P.a,{theme:J.a,children:Object(j.jsx)(U.a,{children:Object(j.jsx)(u.Provider,{value:{browserLocale:l,setBrowserLocale:b,authenticated:n,setAuthenticated:c},children:Object(j.jsxs)(a.Suspense,{fallback:"Loading..",children:[Object(j.jsx)(y,{}),Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"/",element:n?Object(j.jsx)(p,{}):Object(j.jsx)(H,{})}),Object(j.jsx)(s.a,{path:"/admin",element:n?Object(j.jsx)(d,{}):Object(j.jsx)(H,{})}),Object(j.jsx)(s.a,{path:"/auth",element:Object(j.jsx)(H,{})})]})]})})})})})}var K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(w.a,{children:Object(j.jsx)(q,{})})})),K()},76:function(e){e.exports=JSON.parse('{"appTitle":"NICE","welcome":"Welcome !!","text":"Happy Coding :)"}')},77:function(e){e.exports=JSON.parse('{"appTitle":"NICE","welcome":"Willkommen !!","text":"Viel Spa\xdf beim Codieren :)"}')},95:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.43124ed7.chunk.js.map